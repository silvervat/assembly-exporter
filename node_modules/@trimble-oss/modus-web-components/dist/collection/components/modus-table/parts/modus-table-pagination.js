import { h, // eslint-disable-line @typescript-eslint/no-unused-vars
 } from "@stencil/core";
import { PAGINATION_PAGEVIEW_TEXT, PAGINATION_SUMMARY_TEXT } from "../modus-table.constants";
export const ModusTablePagination = ({ context: { tableInstance: table, pageSizeList, data, manualPaginationOptions }, }) => {
    var _a;
    const { options, getState, getPageCount, getExpandedRowModel, setPageIndex, setPageSize } = table;
    const { pageIndex, pageSize } = getState().pagination;
    const optionsList = pageSizeList.map((option) => ({ display: option }));
    const totalCount = (_a = manualPaginationOptions === null || manualPaginationOptions === void 0 ? void 0 : manualPaginationOptions.totalRecords) !== null && _a !== void 0 ? _a : data === null || data === void 0 ? void 0 : data.length;
    const selectedPageSize = optionsList.find((l) => l.display === pageSize);
    const handleChange = (event) => {
        const selectedValue = event.detail;
        setPageSize(Number(selectedValue === null || selectedValue === void 0 ? void 0 : selectedValue.display));
    };
    return (h("div", { class: "pagination-container" }, h("div", { class: "items-per-page" }, h("span", null, PAGINATION_PAGEVIEW_TEXT), h("modus-select", { ariaLabel: "Select page size", "options-display-prop": "display", options: optionsList, onValueChange: handleChange, value: selectedPageSize })), h("div", { class: "pagination-and-count" }, h("div", { class: "total-count" }, h("span", null, PAGINATION_SUMMARY_TEXT), h("span", null, pageIndex * pageSize + 1), h("span", null, "-"), h("span", null, pageIndex + 1 === getPageCount()
        ? !options.manualPagination && options.paginateExpandedRows
            ? getExpandedRowModel().rows.length
            : totalCount
        : (pageIndex + 1) * pageSize), h("span", null, "of"), h("span", null, !options.manualPagination && options.paginateExpandedRows ? getExpandedRowModel().rows.length : totalCount), ' '), h("modus-pagination", { "active-page": pageIndex + 1, "max-page": getPageCount(), "min-page": 1, onPageChange: (event) => setPageIndex(event.detail - 1) }))));
};
