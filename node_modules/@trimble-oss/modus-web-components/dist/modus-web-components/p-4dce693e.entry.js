import{h as e,r as i,c as n,g as t}from"./p-da66e60c.js";import{I as s}from"./p-dc0826df.js";const l=({data:i,itemSelected:n,tabIndex:t})=>(null==i?void 0:i.length)?null==i?void 0:i.map((({id:i,disabled:s,selected:l,label:a,menuIcon:d,children:o,onSideNavItemClicked:h,options:v})=>{const r=v?Object.fromEntries(v):{};return e("modus-side-navigation-item",Object.assign({id:i,disabled:s,selected:l||n===i,label:a,menuIcon:d,onSideNavItemClicked:e=>h&&h(e)},(null==o?void 0:o.length)?{showExpandIcon:!0,disableSelection:!0}:{},{tabIndex:t},r))})):null,a=class{constructor(e){i(this,e),this.sideNavExpand=n(this,"sideNavExpand",7),this._callbackQueue=[],this._children={},this._minWidth="4rem",this._retainFocus=!1,this.reflow=()=>{},this.collapseOnClickOutside=!0,this.data=void 0,this.maxWidth="256px",this.mode="overlay",this.expanded=!1,this.targetContent=void 0,this._navigationLevels=[]}componentDidRender(){var e;(null===(e=this._callbackQueue)||void 0===e?void 0:e.length)&&this._callbackQueue.forEach((e=>e&&e())),this._callbackQueue=[]}componentWillLoad(){this.handleExpandedChange(this.expanded),this.initializeLevelInfo(this.data)}documentClickHandler(e){!this.collapseOnClickOutside||this.element.contains(e.target)||e.defaultPrevented||(this.expanded=!1)}getNextLevel(e){var i;if(null===(i=this._navigationLevels)||void 0===i?void 0:i.length){const i=this._navigationLevels[this._navigationLevels.length-1].children;return null==i?void 0:i.find((i=>i.id===e))}return null}gotoNextLevel(e){var i;if(null===(i=this._navigationLevels)||void 0===i?void 0:i.length){const i=this.getNextLevel(e);if(null==i?void 0:i.children){const e=[...this._navigationLevels||[]];return e.push(Object.assign(Object.assign({},i),{levelPosition:"right"})),this._navigationLevels=[...e],this.expanded=!0,this._callbackQueue.push((()=>{const e=[...this._navigationLevels];e.forEach(((i,n)=>{n===e.length-2?i.levelPosition="left":n===e.length-1&&(i.levelPosition="center")})),this._navigationLevels=[...e],this._retainFocus=!0})),!0}}return!1}gotoPreviousLevel(){var e,i;if(!(null===(e=this._navigationLevels)||void 0===e?void 0:e.length)||1===(null===(i=this._navigationLevels)||void 0===i?void 0:i.length))return!1;const n=[...this._navigationLevels];return n.forEach(((e,i)=>{n.length>1?i===n.length-2?e.levelPosition="center":i===n.length-1&&(e.levelPosition="right"):e.levelPosition="center"})),this._navigationLevels=[...n],this._callbackQueue.push((()=>{this._timeout=setTimeout((()=>{n.pop(),this._navigationLevels=[...n],this._retainFocus=!0,clearTimeout(this._timeout)}),250)})),!0}handleItemAdded(e){var i;(null===(i=e.detail)||void 0===i?void 0:i.id)&&(this._children[e.detail.id]=e.detail,this._children[e.detail.id].expanded=this.expanded),this.itemChanged(e)}handleItemRemoved(e){var i;(null===(i=e.detail)||void 0===i?void 0:i.id)&&delete this._children[e.detail.id],this.itemChanged(e)}handleItemFocus(e){this.setFocusItem(e.detail.id)}handleItemClick(e){this.gotoNextLevel(e.detail.id)||(this._itemSelected&&(this._children[this._itemSelected].selected=!1,this._itemSelected=null),this._itemSelected=e.detail.selected?e.detail.id:null)}handleDataChange(e){this.initializeLevelInfo(e)}handleExpandedChange(e){var i;const n=()=>{Object.values(this._children).forEach((i=>i.expanded=e))},t=()=>{this.setTargetContentMargin(e,this.mode,this.targetContent)},s=()=>{var e;null===(e=this.sideNavExpand)||void 0===e||e.emit(this.expanded)},l=null===(i=this._levelsContainerRef)||void 0===i?void 0:i.querySelector(".side-nav-level.center .level-heading");l?e?(l.classList.remove("collapse"),l.classList.add("collapsing"),l.style.height="0",this._timeout=setTimeout((()=>{l.classList.remove("collapsing"),l.classList.add("show"),l.style.height="",clearTimeout(this._timeout),n(),s()}),150),l.style.height=`${l.scrollHeight}px`,t()):(n(),l.style.height=`${l.getBoundingClientRect().height}px`,this.reflow(l),l.classList.add("collapsing"),this._timeout=setTimeout((()=>{l.classList.remove("show"),l.classList.remove("collapsing"),l.classList.add("collapse"),clearTimeout(this._timeout),s()}),300),l.style.height="0px",t()):(n(),t(),s())}handleModeChange(e){this.setTargetContentMargin(this.expanded,e,this.targetContent)}handleTargetChange(e){this.setTargetContentMargin(this.expanded,this.mode,e)}handleBackClick(e){var i;const n=null===(i=e.code)||void 0===i?void 0:i.toUpperCase();n&&"ENTER"!==n&&"SPACE"!==n||this.gotoPreviousLevel(),e.stopPropagation()}handleKeyDown(e){var i,n;if(e.defaultPrevented)return;const t=e.code.toUpperCase();let s=!1;if(!e.altKey&&this._firstChild){switch(t){case"SPACE":case"ENTER":e.stopPropagation();break;case"ARROWDOWN":const t=null===(i=this._children[this._itemInFocus])||void 0===i?void 0:i.nextElementSibling;null==t||t.focusItem(),s=!0;break;case"ARROWUP":const l=null===(n=this._children[this._itemInFocus])||void 0===n?void 0:n.previousElementSibling;null==l||l.focusItem(),s=!0;break;case"ARROWRIGHT":this.expanded&&this.gotoNextLevel(this._itemInFocus);break;case"ARROWLEFT":this.expanded&&this.gotoPreviousLevel()}s&&(e.preventDefault(),e.stopPropagation())}}handleLevelsContainerRef(e){this._levelsContainerRef=e,this._retainFocus&&e.focus(),this._retainFocus=!1}handleLevelHeadingRef(e){null==e||e.focus()}initializeLevelInfo(e){this._navigationLevels=(null==e?void 0:e.length)?[{id:null,label:null,children:e,levelPosition:"center"}]:null}itemChanged(e){const i=Object.keys(this._children);this._firstChild=i[0],e.preventDefault(),e.stopPropagation()}setTargetContentMargin(e,i,n){const t=document.querySelector(n);t&&(t.style.marginLeft=e&&"push"===i?this.maxWidth:this._minWidth)}setFocusItem(e){this._itemInFocus=e}render(){return e("nav",{key:"bdeaa37cdf3b1f0b39999fd1a79d4b9f46e095e3",class:"side-nav-panel"+(this.expanded?" expanded":""),style:{width:this.expanded?this.maxWidth:null},onKeyDown:e=>this.handleKeyDown(e),"aria-label":"side navigation"},this.data?e("div",{tabindex:-1,ref:e=>this.handleLevelsContainerRef(e)},this._navigationLevels.map(((i,n)=>e("div",{class:`side-nav-level ${i.levelPosition}`,"aria-hidden":"center"!==i.levelPosition?"true":null},0!==n&&e("div",Object.assign({class:"level-heading"},"center"===i.levelPosition?{tabindex:0,ref:e=>this.handleLevelHeadingRef(e)}:{}),e("p",null,e(s,{size:"24"}),e("a",{tabIndex:0,onClick:e=>this.handleBackClick(e),onKeyDown:e=>this.handleBackClick(e)},"Back")),e("h4",null,i.label)),e("div",null,e("ul",{class:"side-nav-menu",role:"tree"},e(l,{data:i.children,itemSelected:this._itemSelected,tabIndex:"center"===i.levelPosition?void 0:-1}))))))):e("div",{class:"side-nav-level center"},e("ul",{class:"side-nav-menu",role:"tree"},e("slot",null))))}get element(){return t(this)}static get watchers(){return{data:["handleDataChange"],expanded:["handleExpandedChange"],mode:["handleModeChange"],targetContent:["handleTargetChange"]}}};a.style='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");:host{display:block}.side-nav-panel{background-color:var(--modus-side-navigation-bg, #fff);box-shadow:1px 0 4px rgba(36, 35, 45, 0.3);height:100%;min-width:4rem !important;position:absolute;transition:all 0.2s ease-out 0s;width:4rem;z-index:1029}.side-nav-panel.expanded{overflow:hidden;transition:all 0.25s ease-in 0s !important;width:16rem}.side-nav-panel:not(.expanded) .side-nav-level:not(.center){display:none}.side-nav-panel .side-nav-level{position:absolute;transition:all 0.4s linear 0s;width:100%}.side-nav-panel .side-nav-level:not(.center){opacity:0;transition-duration:0.25s}.side-nav-panel .side-nav-level .side-nav-menu{height:100%;margin:0%;padding:0%;transition:all 0.4s linear 0s;width:100%}.side-nav-panel .side-nav-level .collapse:not(.show){display:none}.side-nav-panel .side-nav-level .collapsing{height:0;opacity:0;position:relative;transition:height 0.25s ease-in 0s}.side-nav-panel .side-nav-level .level-heading{color:var(--modus-side-navigation-item-color, #252a2e);display:flex;flex-direction:column;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !important;padding-left:1.25rem}.side-nav-panel .side-nav-level .level-heading svg.icon-chevron-left-thick{padding-right:1rem}.side-nav-panel .side-nav-level .level-heading svg.icon-chevron-left-thick path{fill:var(--modus-side-navigation-item-chevron-color, #252a2e)}.side-nav-panel .side-nav-level .level-heading:focus{border:none;outline:none}.side-nav-panel .side-nav-level .level-heading p{align-items:center;display:flex;margin-block-end:0}.side-nav-panel .side-nav-level .level-heading p a{padding-left:1rem}.side-nav-panel .side-nav-level .level-heading h4{margin-block-end:1em}.side-nav-panel .side-nav-level .level-heading a{color:var(--modus-side-navigation-link-color, #217cbb);cursor:pointer;font-size:0.875rem !important}.side-nav-panel .side-nav-level .level-heading a:hover{text-decoration:underline}.side-nav-panel .side-nav-level.left .side-nav-menu{transform:translateX(-100%)}.side-nav-panel .side-nav-level.center .side-nav-menu{transform:translate(0%)}.side-nav-panel .side-nav-level.right .side-nav-menu{transform:translate(100%)}';export{a as modus_side_navigation}