import{r as t,c as s,h as i,g as o}from"./p-da66e60c.js";import{c as e}from"./p-68a5aaff.js";const n=class{constructor(i){t(this,i),this.actionBarClick=s(this,"actionBarClick",7),this.showOverflowMenu=!1,this.actions=void 0,this.size="medium",this.visibleItemCount=3}componentWillLoad(){this.processChildren()}componentDidRender(){this.initializePopper()}handleGlobalFocus(t){if(!(t.target instanceof HTMLElement))return;const s="modus-tree-view-item"===t.target.localName;this.el.contains(t.target)||s||!this.showOverflowMenu||this.closeOverflowMenu()}processChildren(){const t=this.el.querySelectorAll("modus-action-item");if(t.length>0){const s=Array.from(t);this.actions=s.map((t=>({id:t.getAttribute("id"),icon:t.getAttribute("icon"),label:t.textContent.trim()})))}}initializePopper(){this.popperInstance=e(this.overflowButtonElement,this.overflowMenuElement,{placement:"bottom-end"})}handleKeyDown(t,s){t&&"Enter"!==t.key&&" "!==t.key||this.handleButtonClick(t,s)}handleOverflowClick(t){t.preventDefault(),t.stopPropagation(),this.toggleOverflowMenu()}handleOverflowKeyDown(t){t&&"Enter"!==t.key&&" "!==t.key||this.handleOverflowClick(t)}handleButtonClick(t,s){t.preventDefault(),t.stopPropagation(),this.actionBarClick.emit({actionId:s.id}),this.showOverflowMenu&&this.closeOverflowMenu()}toggleOverflowMenu(){this.showOverflowMenu=!this.showOverflowMenu,this.showOverflowMenu&&this.popperInstance.update()}closeOverflowMenu(){this.showOverflowMenu=!1}render(){const t=this.actions.length>this.visibleItemCount?this.actions.slice(0,this.visibleItemCount-1):this.actions,s=this.actions.length>this.visibleItemCount?this.actions.slice(this.visibleItemCount-1):null;return i("div",{key:"e02cb0ae28cefc61170f22ad384fed9cea70af7b",class:"modus-action-bar"},t.map((t=>i("modus-tooltip",{text:t.label},i("modus-button",{"icon-only":t.icon,buttonStyle:"borderless",color:"secondary",size:this.size,onClick:s=>this.handleButtonClick(s,t),onKeyDown:s=>this.handleKeyDown(s,t)},t.label)))),this.actions.length>this.visibleItemCount&&i("modus-button",{ref:t=>this.overflowButtonElement=t,"icon-only":"more_vertical",buttonStyle:"borderless",color:"secondary",size:this.size,onClick:t=>this.handleOverflowClick(t),onKeyDown:t=>this.handleOverflowKeyDown(t)}),this.showOverflowMenu&&i("div",{style:{width:"200px",display:this.showOverflowMenu?"block":"none"},class:"overflow-menu",ref:t=>this.overflowMenuElement=t},i("modus-list",null,s.map((t=>i("modus-list-item",{size:"small"===this.size?"condensed":"standard",onClick:s=>this.handleButtonClick(s,t),onKeyDown:s=>this.handleKeyDown(s,t),leftIcon:t.icon},t.label))))))}get el(){return o(this)}};n.style='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");.modus-action-bar{align-items:center;display:flex;gap:0}.modus-action-bar .overflow-menu{display:none;position:absolute;z-index:1}.modus-action-bar .overflow-menu.show{display:block}';export{n as modus_action_bar}