import{r as t,c as e,h as i,H as s,g as o}from"./p-da66e60c.js";import{I as l}from"./p-dc0826df.js";import{I as a}from"./p-c7b49f87.js";import{g as n,k as r,h,x as d,c,y as u,A as b,z as m,d as v,B as p,D as f}from"./p-cfe00a47.js";import{N as g}from"./p-6eed4a1e.js";var y;!function(t){t.Previous="Previous",t.Next="Next"}(y||(y={}));const w=class{activePageWatch(t,e){t!==e&&this.pageChange.emit(t)}constructor(i){t(this,i),this.pageChange=e(this,"pageChange",7),this.chevronSizeBySize=new Map([["small","16"],["medium","20"],["large","24"]]),this.classBySize=new Map([["small","small"],["medium","medium"],["large","large"]]),this.ariaLabel=void 0,this.activePage=1,this.maxPage=void 0,this.minPage=void 0,this.prevPageButtonText=void 0,this.nextPageButtonText=void 0,this.size="medium",this.pages=void 0,this.setPages()}componentWillRender(){(void 0===this.activePage||isNaN(this.activePage))&&(this.activePage=1),this.setPages()}setPages(){const t=[],e="...";if(this.maxPage>1&&t.push(this.minPage),this.maxPage-this.minPage<7)for(let e=this.minPage+1;e<this.maxPage;e++)t.push(e);else this.activePage-this.minPage<4?([1,2,3,4].map((e=>t.push(this.minPage+e))),t.push(e)):this.maxPage-this.activePage<4?(t.push(e),[4,3,2,1].map((e=>t.push(this.maxPage-e)))):(t.push(e),[-1,0,1].map((e=>t.push(this.activePage+e))),t.push(e));t.push(this.maxPage),this.pages=t}handleChevronClick(t){t===y.Previous&&this.activePage!==this.minPage?this.activePage--:t===y.Next&&this.activePage!==this.maxPage&&this.activePage++}handleChevronKeydown(t,e){"enter"===t.key.toLowerCase()&&(this.handleChevronClick(e),t.preventDefault())}handlePageKeydown(t,e){"enter"===t.key.toLowerCase()&&(this.handlePageClick(e),t.preventDefault())}handlePageClick(t){isNaN(t)||(this.activePage=t)}renderPreviousPageControl(){return this.maxPage-this.minPage>=7&&i("li",null,i("button",{"aria-label":"Previous",class:this.activePage!=this.minPage?"hoverable":"disabled",disabled:this.activePage===this.minPage,onClick:()=>this.handleChevronClick(y.Previous),onKeyDown:t=>this.handleChevronKeydown(t,y.Previous)},this.prevPageButtonText?i("span",{"data-test-id":"prev-button-text"},this.prevPageButtonText):i(l,{size:this.chevronSizeBySize.get(this.size)})))}renderNextPageControl(){return this.maxPage-this.minPage>=7&&i("li",null,i("button",{"aria-label":"Next",class:this.activePage!=this.maxPage?"hoverable":"disabled",disabled:this.activePage===this.maxPage,onClick:()=>this.handleChevronClick(y.Next),onKeyDown:t=>this.handleChevronKeydown(t,y.Next)},this.nextPageButtonText?i("span",{"data-test-id":"next-button-text"},this.nextPageButtonText):i(a,{size:this.chevronSizeBySize.get(this.size)})))}renderPageNumbers(){return this.pages.map((t=>{const e=t===this.activePage;return i("li",null,i("button","..."===t?{class:isNaN(+t)?"":"hoverable",tabIndex:-1}:{"aria-current":e?"page":null,class:`${t===this.activePage?"active":""} ${isNaN(+t)?"":"hoverable"}`,onClick:()=>this.handlePageClick(+t),onKeyDown:e=>this.handlePageKeydown(e,+t)},t))}))}render(){return i("nav",{key:"74cddfd08be69283bb88db957497ed88f4593906","aria-label":this.ariaLabel||void 0,class:`${this.classBySize.get(this.size)}`},i("ul",{key:"892927c0a9a450e2678db22809454830023963c7"},this.renderPreviousPageControl(),this.renderPageNumbers(),this.renderNextPageControl()))}static get watchers(){return{activePage:["activePageWatch"]}}};w.style='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");nav{align-items:center;background-color:transparent;border-radius:0.25rem;color:var(--modus-pagination-color, #252a2e);display:inline-flex;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";justify-content:center;width:100%}nav svg path{fill:var(--modus-pagination-chevron-color, #6a6e79)}nav ul{align-items:center;display:flex;flex-direction:row;justify-content:center;padding:0}nav ul li{list-style-type:none;user-select:none}nav ul li button{align-items:center;background-color:transparent;border:unset;border-radius:0.25rem;color:#252a2e;display:flex;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";justify-content:center}nav ul li button.active{background-color:var(--modus-pagination-active-bg, #dcedf9);color:var(--modus-pagination-active-color, #217cbb);outline:1px solid transparent}nav ul li button.disabled{opacity:0.3}nav ul li button.hoverable{cursor:pointer}nav ul li button.hoverable:not(.active):hover{background-color:var(--modus-pagination-hover-bg, #e0e1e9)}nav.small{height:1.5rem}nav.small ul li button{font-size:0.75rem;height:1.5rem;padding:0 0.5rem}nav.small ul li button[aria-label=Next],nav.small ul li button[aria-label=Previous]{padding-left:0.25rem;padding-right:0.25rem}nav.medium{height:2rem}nav.medium ul li button{font-size:0.875rem;height:2rem;padding:0 0.75rem}nav.medium ul li button[aria-label=Next],nav.medium ul li button[aria-label=Previous]{padding-left:0.375rem;padding-right:0.375rem}nav.large{height:3rem}nav.large ul li button{font-size:1.25rem;height:3rem;padding:0 1.125rem}nav.large ul li button[aria-label=Next],nav.large ul li button[aria-label=Previous]{padding-left:0.75rem;padding-right:0.75rem}';const k=({link:t,onLinkClick:e})=>i("div",{class:"cell-link",tabIndex:0,onClick:()=>e(t),onKeyDown:function(i){const s=i.key.toLowerCase();s!==n&&s!==r||(e(t),i.stopImmediatePropagation())}},t.display),x=({badge:t,onBadgeClick:e})=>{function s(i){const s=i.key.toLowerCase();s!==n&&s!==r||(e(t),i.stopImmediatePropagation())}return i("div",{class:"cell-badge",onClick:()=>e(t),onKeyDown:()=>s},i("modus-badge",{tabIndex:0,color:t.color,size:t.size,type:t.type,ariaLabel:null==t?void 0:t.ariaLabel},t.text))},C=t=>{var e,s,o;return i("svg",{class:"icon-chevron-down-thick "+(t.pressed?"pressed":""),xmlns:"http://www.w3.org/2000/svg",fill:null!==(e=t.color)&&void 0!==e?e:"currentColor",height:null!==(s=t.size)&&void 0!==s?s:16,width:null!==(o=t.size)&&void 0!==o?o:16,onClick:t.onClick,viewBox:"0 0 24 24"},i("path",{d:"M15.88 9.29 12 13.17 8.12 9.29a.996.996 0 1 0-1.41 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 0 0 0-1.41c-.39-.38-1.03-.39-1.42 0z"}))},N=t=>{var e,s,o;return i("svg",{class:"icon-chevron-up-thick "+(t.pressed?"pressed":""),xmlns:"http://www.w3.org/2000/svg",fill:null!==(e=t.color)&&void 0!==e?e:"currentColor",height:null!==(s=t.size)&&void 0!==s?s:16,width:null!==(o=t.size)&&void 0!==o?o:16,onClick:t.onClick,viewBox:"0 0 24 24"},i("path",{d:"M11.29 8.71 6.7 13.3a.996.996 0 1 0 1.41 1.41L12 10.83l3.88 3.88a.996.996 0 1 0 1.41-1.41L12.7 8.71a.996.996 0 0 0-1.41 0z"}))},O=({row:t})=>{let e;return i("span",{class:"expand-icon-container",ref:t=>e=t,style:{paddingLeft:2*t.depth+"rem"},onClick:e=>{t.getToggleExpandedHandler()(),e.stopImmediatePropagation()}},t.getCanExpand()&&i("span",{class:"expand-icon",tabIndex:0,onKeyDown:t=>{t.key.toLowerCase()!==n&&t.key.toLowerCase()!==r||(e.click(),t.stopImmediatePropagation())}},t.getIsExpanded()?i(N,{size:"24"}):i(C,{size:"24"})))},j=class{constructor(e){t(this,e),this.onCellClick=t=>this.handleCellClick(t),this.onCellKeyDown=t=>this.handleCellKeydown(t),this.onCellBlur=t=>this.handleCellBlur(t),this.cellEditableKey="cellEditable",this.accessorKey="accessorKey",this.handleCellClick=t=>{t.defaultPrevented||this.cell.column.columnDef[this.cellEditableKey]&&(this.editMode=!0)},this.handleCellBlur=t=>{this.el.contains(t.relatedTarget)||(this.editMode=!1)},this.handleCellKeydown=t=>{var e;if(t.defaultPrevented)return;const i=null===(e=t.key)||void 0===e?void 0:e.toLowerCase();this.cell.column.columnDef[this.cellEditableKey]&&!this.editMode&&i===n?(this.editMode=!0,t.stopPropagation()):g({eventKey:t.key,cellElement:this.cellEl})},this.handleCellEditorKeyDown=(t,e,i)=>{var s;const o=null===(s=t.key)||void 0===s?void 0:s.toLowerCase();if(o===n)this.handleCellEditorValueChange(e,i),g({eventKey:n,cellElement:this.cellEl});else{if(o!==h)return;this.editMode=!1,this.cellEl.focus()}t.stopPropagation()},this.cell=void 0,this.context=void 0,this.hasRowsExpandable=void 0,this.valueChange=void 0,this.editMode=void 0}onEditModeChange(t){t?this.cellEl.classList.add("edit-mode"):this.cellEl.classList.remove("edit-mode")}connectedCallback(){this.cellEl=this.el.parentElement,this.cellEl.addEventListener("click",this.onCellClick),this.cellEl.addEventListener("keydown",this.onCellKeyDown),this.cellEl.addEventListener("blur",this.onCellBlur)}disconnectedCallback(){this.cellEl&&(this.cellEl.removeEventListener("click",this.onCellClick),this.cellEl.removeEventListener("keydown",this.onCellKeyDown),this.cellEl.removeEventListener("blur",this.onCellBlur))}getEditorType(){const t=this.cell.column.columnDef[f],e=this.cell.column.columnDef[c];let i=u;return t?i=t:b.includes(e)&&(i=e),i}getEditorArgs(){return this.cell.column.columnDef[d]}async handleCellEdit(t,e){const i=this.cell.getContext().table.getRowModel().rows[t];if(!i)return;if(!i.getAllCells().find((t=>t.column.id===e)))return;const s=this.el.querySelector(`[data-cell-id="${t}-${e}"]`);s&&s.focus(),this.editMode=!0}handleCellEditorValueChange(t,e){this.editMode&&t!==e&&this.valueChange&&this.valueChange({row:this.cell.row,accessorKey:this.cell.column.columnDef[this.accessorKey],newValue:t,oldValue:e}),this.editMode=!1}renderCellValue(){var t;const{row:e,getValue:s}=this.cell,o=s();if(null==o)return null;const{cellLinkClick:l,wrapText:a}=this.context,n=null!==(t=o._type)&&void 0!==t?t:this.cell.column.columnDef[c],r=n!==m&&a;return i("div",{class:{"cell-content":!0,"truncate-text":!r,"wrap-text":r,"text-align-right":n===v}},this.hasRowsExpandable&&i(O,{row:e}),i("span",{class:r?"wrap-text":"truncate-text"},(()=>{return n===p?i(k,{link:o,onLinkClick:t=>{this.cellEl.focus(),l.emit(t)}}):n===m?i(x,{badge:o,onBadgeClick:()=>{this.cellEl.focus()}}):(t=this.cell.column.columnDef.cell,e=this.cell.getContext(),t?function(t){return"function"==typeof t&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isFunctionalComponent})()}(s=t)||"function"==typeof s?i(t,Object.assign({},e)):t:null);var t,e,s})()))}render(){var t;const e=null===(t=this.cell.getValue())||void 0===t?void 0:t.toString();return i(s,{key:"df7d9a18b6bc172a9f8dd51521b5ddcca1fb9e9c"},this.editMode?i("modus-table-cell-editor",{"data-type":this.cell.column.columnDef[c],value:this.cell.getValue(),type:this.getEditorType(),args:this.getEditorArgs(),valueChange:t=>this.handleCellEditorValueChange(t,e),keyDown:(t,i)=>this.handleCellEditorKeyDown(t,i,e)}):this.renderCellValue())}get el(){return o(this)}static get watchers(){return{editMode:["onEditModeChange"]}}},E=class{constructor(e){t(this,e),this.observer=null,this.updateContainerLayout=()=>{var t,e,i,s,o,l;const a=null===(t=this.targetTable.getBoundingClientRect())||void 0===t?void 0:t.width,n=null===(i=null===(e=this.targetTable.parentElement)||void 0===e?void 0:e.getBoundingClientRect())||void 0===i?void 0:i.width;this.showFillerTable=a<n,this.showFillerTable&&this.fillerTableRef&&(this.fillerTableRef.querySelector("thead").style.height=`${null===(s=this.targetTable.querySelector("thead"))||void 0===s?void 0:s.getBoundingClientRect().height}px`,this.summaryRow&&(this.fillerTableRef.querySelector("tfoot").style.height=`${null===(o=this.targetTable.querySelector("tfoot"))||void 0===o?void 0:o.getBoundingClientRect().height}px`),this.fillerTableRef.querySelector("tbody").style.height=`${null===(l=this.targetTable.querySelector("tbody"))||void 0===l?void 0:l.getBoundingClientRect().height}px`)},this.cellBorderless=void 0,this.summaryRow=void 0,this.container=void 0,this.showFillerTable=!1}componentDidLoad(){this.targetTable=this.container.shadowRoot.querySelector("table"),this.targetTable&&(this.updateContainerLayout(),this.connectDOMObserver())}disconnectedCallback(){this.disconnectDOMObserver()}connectDOMObserver(){this.observer=new ResizeObserver(this.updateContainerLayout),this.observer.observe(this.targetTable)}disconnectDOMObserver(){this.observer&&this.observer.disconnect()}render(){return i("table",{key:"ee0a9f15c17f12f97c163b5a70d4cb0c629b7c76",id:"table-filler-column",class:{"cell-borderless":this.cellBorderless,"d-none":!this.showFillerTable},ref:t=>this.fillerTableRef=t},i("thead",{key:"bca2ba3f12619a0f7f3eaaba680dbebbc20a5309"},i("tr",{key:"86e18debe16a7f8e08a59d742a6b2a0ba204e968"},i("th",{key:"1c83623c16b1da4a35c4c6f0388052ef9f575caa"}))),i("tbody",{key:"eb88f740a59f41e969238173557930a3e260be13"},i("tr",{key:"a84f32451ccc75f202abc17efbde0e782786f263"},i("td",{key:"e34fb7c702a0ba4b5c663a586c8096a96c85a7e8"}))),this.summaryRow&&i("tfoot",null,i("tr",{class:"summary-row"},i("td",null))))}};E.style='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");modus-table-filler-column{z-index:0}modus-table-filler-column .d-none{display:none}modus-table-filler-column table thead tr,modus-table-filler-column table tfoot tr{height:inherit}modus-table-filler-column table:not(.cell-borderless) td:last-child,modus-table-filler-column table:not(.cell-borderless) th:last-child{border-right:none}modus-table-filler-column table:not(.cell-borderless) tbody td:first-child,modus-table-filler-column table:not(.cell-borderless) thead th:first-child{border-left:0.0625rem var(--modus-table-border-color, #b7b9c3) solid !important}';const I=class{constructor(e){t(this,e),this.onCellKeyDown=t=>this.handleCellKeydown(t),this.handleCellKeydown=t=>{var e,i,s;t.defaultPrevented||((null===(e=t.key)||void 0===e?void 0:e.toLowerCase())===n?(null===(s=null===(i=this.el.firstChild)||void 0===i?void 0:i.firstChild)||void 0===s||s.focusButton(),t.stopPropagation()):g({eventKey:t.key,cellElement:this.cellEl}))},this.row=void 0,this.context=void 0}connectedCallback(){this.cellEl=this.el.parentElement,this.cellEl.addEventListener("keydown",this.onCellKeyDown)}disconnectedCallback(){this.cellEl&&this.cellEl.removeEventListener("keydown",this.onCellKeyDown)}render(){return i(s,{key:"a7c39d0729d1b511ce0b50e1a2a0c4530bb2be8a"},i("modus-table-row-actions",{key:"18eb35d80a7917256ea02074fe46dac4a4383f3a",row:this.row,context:this.context}))}get el(){return o(this)}},S=class{constructor(e){t(this,e),this.isOverflowIconClicked=!1,this.onOverflowRowActions=t=>this.handleOverflowRowActions(t),this.onRowActionClick=t=>this.handleRowActionButtonClick(t),this.onRowExpanded=()=>this.isMenuOpen=!1,this.context=void 0,this.isMenuOpen=!1,this.overFlowMenu=void 0,this.position=void 0,this.menuWidth=0}onMenuOpenChange(t){t||(this.overFlowMenu=null,this.position=null,this.tableRow=null)}componentDidRender(){var t;if(this.isMenuOpen){const e=null===(t=Array.from(this.element.querySelectorAll("modus-list-item")))||void 0===t?void 0:t.find((t=>!t.disabled));null==e||e.focusItem();const i=this.element.querySelector(".row-actions-menu");i&&(this.menuWidth=i.offsetWidth)}}connectedCallback(){const{element:t}=this.context;t.addEventListener("overflowRowActions",this.onOverflowRowActions),t.addEventListener("rowActionClick",this.onRowActionClick),t.addEventListener("rowExpanded",this.onRowExpanded)}disconnectedCallback(){const{element:t}=this.context;t.removeEventListener("overflowRowActions",this.onOverflowRowActions),t.removeEventListener("rowActionClick",this.onRowActionClick),t.removeEventListener("rowExpanded",this.onRowExpanded)}handleOverflowRowActions(t){var e;const{componentId:i,actions:s,position:o,row:l,onClose:a}=t.detail;i===this.context.componentId&&(this.isMenuOpen=(null===(e=this.tableRow)||void 0===e?void 0:e.id)!==l.id,this.isMenuOpen&&(this.overFlowMenu=s,this.position=o,this.tableRow=l,this.onCloseMenu=a),this.isOverflowIconClicked=this.isMenuOpen,t.stopPropagation())}handleRowActionButtonClick({detail:{actionId:t}}){this.overFlowMenu&&this.overFlowMenu.find((e=>e.id!==t))&&(this.isMenuOpen=!1)}handleClickOutside(t){this.element.contains(t.target)||this.isOverflowIconClicked||(this.isMenuOpen=!1),this.isOverflowIconClicked=!1}handleListItemClick(t){const{rowActionClick:e}=this.context;e.emit({actionId:t,row:this.tableRow.original})}handleListItemKeydown(t){var e;"escape"!==t.key.toLowerCase()&&"enter"!==t.key.toLowerCase()||(this.isMenuOpen=!1,null===(e=this.onCloseMenu)||void 0===e||e.call(this),t.preventDefault())}render(){var t;if(!(null===(t=this.overFlowMenu)||void 0===t?void 0:t.length)||!this.position)return null;const{x:e,y:o}=this.position;return i(s,null,this.isMenuOpen&&i("div",{style:Object.assign({},{transform:`translate(calc(${e-this.menuWidth/1.5}px - 8px), calc(${o}px))`}),class:"row-actions-menu"},i("modus-list",{class:"hydrated"},this.overFlowMenu.map((({label:t,id:e,isDisabled:s=(()=>!1)})=>{var o;const l=s(null===(o=this.tableRow)||void 0===o?void 0:o.original);return i("modus-list-item",{style:{maxWidth:"155px"},disabled:l,onItemClick:()=>this.handleListItemClick(e),class:"hydrated row-actions-menu-item",onKeyDown:t=>this.handleListItemKeydown(t),tabindex:l?-1:0},t)})))))}get element(){return o(this)}static get watchers(){return{isMenuOpen:["onMenuOpenChange"]}}};S.style='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");modus-table-row-actions-menu .row-actions-menu{background-color:var(--modus-table-bg, #fff);box-shadow:0 0 2px rgba(37, 42, 46, 0.3);color:var(--modus-table-body-color, #252a2e);display:flex;position:fixed;top:-1px;z-index:9}modus-table-row-actions-menu modus-list-item{cursor:pointer}';const _=class{constructor(e){t(this,e),this.context=void 0}render(){return i(s,{key:"fcbd8a1bec08ca5f4a11de68eac6b2a708127ee1"},i("div",{key:"d218fafadd7beb53e8c43ab0e45bf566a5996a0b",class:"table-toolbar"},i("div",{key:"e1d07736405cbb3828070c2f9b93a87fb9848937",class:"section"},i("slot",{key:"89737c466d0a8e0baea9a4e9f89bf64893bc110c",name:"group-left"})),i("div",{key:"86342197962d9c921c8b8421539cee22a36226f9",class:"section"},i("slot",{key:"eb7745a45dc1c629d174414004efb47803971b49",name:"group-right"}),i("modus-table-dropdown-menu",{context:this.context}))))}};_.style='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");.table-toolbar{align-items:center;display:flex;justify-content:space-between;padding-bottom:3px}.table-toolbar .section{align-items:center;display:flex}';export{w as modus_pagination,j as modus_table_cell_main,E as modus_table_filler_column,I as modus_table_row_actions_cell,S as modus_table_row_actions_menu,_ as modus_table_toolbar}