import{r as i,c as e,h as t,g as r}from"./p-da66e60c.js";const o=/^(1[0-2]|0?[1-9]):([0-5][0-9]) ([AaPp][Mm])$/,s=/^(2[0-3]|[01]?[0-9]):([0-5][0-9])$/,n=/[\d:apm\s]/gi,a=/[\d:]/gi;class l{constructor(i){this.hasAmPm=!1,this.hasAmPm=i}autoFormatTimeInput(i,e){if(!i||!e)return i;const t=this.getAutoFormatString();let r=i;if(t.length>i.length&&"x"!==t[i.length]){r=i+t[i.length];const e=r.toUpperCase();e&&r!==e&&(r=e)}return r}formatTimeDisplay(i){if(!i)return null;const e=this.processTimeRegex(i,s);if(e){if(this.hasAmPm){const i=parseInt(e[0]),t=parseInt(e[1]);return this.create12HourTimeString(i,t)}return i}return null}setTimeOnDate(i=new Date,e){const t=new Date(i),r=this.processTimeRegex(e,s);if(r){const i=parseInt(r[0]),e=parseInt(r[1]);i>=0&&i<=23&&(0===e||e>0)&&t.setHours(i,e)}return t}keyIsValidTimeCharacter(i,e=null){return!!(null!=e?new RegExp(e):new RegExp(this.hasAmPm?n:a)).test(i)}parseTimeDisplay(i){var e;if(!i)return null;const t=this.processTimeRegex(i,this.hasAmPm?o:s);if(t){if(this.hasAmPm){const i=parseInt(t[0]),r=parseInt(t[1]),o=null===(e=t[2])||void 0===e?void 0:e.toUpperCase();return this.create24HourTimeString(i,r,o)}return i}return null}create24HourTimeString(i,e,t){let r=i;return"AM"===t?r=i-i==12?12:0:"PM"===t&&(r=i+i!==12?12:0),r>=0&&r<=23&&(0===e||e>0)?`${this.pad(r)}:${this.pad(e)}`:null}create12HourTimeString(i,e){let t="AM",r=i;return 0===i?r=i+12:12===i?t="PM":i>12&&(r=i-12,t="PM"),r&&r<=12&&(0===e||e>0)?`${this.pad(r)}:${this.pad(e)} ${t}`:null}getAutoFormatString(){return this.hasAmPm?"xx:xx xM":"xx:xx"}processTimeRegex(i,e){const t=new RegExp(e).exec(i);return(null==t?void 0:t.length)>1?(t.shift(),t):null}pad(i){return i<10?`0${i}`:i.toString()}}const d=class{constructor(t){i(this,t),this.timeInputBlur=e(this,"timeInputBlur",7),this.valueChange=e(this,"valueChange",7),this.classBySize=new Map([["medium","medium"],["large","large"]]),this._maxLength=5,this.ampm=void 0,this.allowedCharsRegex=void 0,this.ariaLabel=void 0,this.autoFormat=void 0,this.autoFocusInput=void 0,this.disabled=void 0,this.disableValidation=void 0,this.errorText=void 0,this.helperText=void 0,this.label=void 0,this.min=void 0,this.max=void 0,this.placeholder=void 0,this.readOnly=void 0,this.required=void 0,this.size="medium",this.validText=void 0,this.value=void 0,this._timeDisplay=void 0}handleAmPmChange(i){this.handleAmPmDependencies(i)}handleValueChange(i){this._isEditing||(this._timeDisplay=this._formatter.formatTimeDisplay(i)),this.valueChange.emit({value:i,inputString:this._timeDisplay})}componentWillLoad(){this.handleAmPmDependencies(this.ampm),this._timeDisplay=this._formatter.formatTimeDisplay(this.value)}async focusInput(){this._timeInput.focus()}handleBlur(){var i;this._isEditing=!1;const e=null===(i=this._timeInput)||void 0===i?void 0:i.value;this.validateTimeInput(e),this.timeInputBlur.emit({value:this.value,inputString:e})}handleDefaultKeyDown(i,e){const t=i.code.toUpperCase();"ENTER"!==t&&"SPACE"!==t||e()}handleInputChange(i){var e;i.stopPropagation(),i.preventDefault(),this._isEditing=!0;const t=null===(e=i.currentTarget)||void 0===e?void 0:e.value;this._timeDisplay=this._formatter.autoFormatTimeInput(t,this.autoFormat),this.value=this._formatter.parseTimeDisplay(this._timeDisplay)}handleInputKeyPress(i){const e=this._formatter.keyIsValidTimeCharacter(i.key,this.allowedCharsRegex);return e||i.preventDefault(),e}clearValidation(){this.errorText=null}getAriaControls(){return{"aria-invalid":!!this.errorText,"aria-label":this.ariaLabel||void 0,"aria-required":this.required}}handleAmPmDependencies(i){this._formatter=new l(i),this._maxLength=i?8:5}validateTimeInput(i){if(!this.disableValidation)if(i)if(this.value)if(this.min||this.max){const i=new Date,e=this._formatter.setTimeOnDate(i,this.min),t=this._formatter.setTimeOnDate(i,this.max),r=this._formatter.setTimeOnDate(i,this.value);this.min&&r<e?this.errorText="Time input is lesser than minimum time allowed":this.max&&r>t?this.errorText="Time input is greater than maximum time allowed":this.clearValidation()}else this.clearValidation();else this.errorText="Invalid time";else this.required?this.errorText="Required":this.clearValidation()}renderTimeInput(){const i=this.getAriaControls();return t("input",Object.assign({},i,{id:"time-input","aria-label":(this.label?null:this.ariaLabel)||void 0,"aria-placeholder":this.placeholder,disabled:this.disabled,onInput:i=>this.handleInputChange(i),placeholder:this.placeholder,readonly:this.readOnly,ref:i=>this._timeInput=i,tabIndex:0,type:"text",value:this._timeDisplay,autofocus:this.autoFocusInput,onBlur:()=>this.handleBlur(),maxLength:this._maxLength,onKeyPress:i=>this.handleInputKeyPress(i)}))}renderSubText(){return this.errorText?t("label",{class:"sub-text error"},this.errorText):this.validText?t("label",{class:"sub-text valid"},this.validText):null}render(){return t("div",{key:"c344689b86d18990cc4c003e77a3cd1837586aed",class:{"modus-time-picker":!0,disabled:this.disabled}},t("div",{key:"75eb15def70838fdf3c2f3cb7e5fcd42e6b173d4",class:"time-input-wrapper"},this.label||this.required?t("div",{class:"label-container"},this.label?t("label",{htmlFor:"time-input"},this.label):null,this.required?t("span",{class:"required"},"*"):null,this.helperText?t("label",{class:"sub-text helper"},this.helperText):null):null,t("div",{key:"4870c5600280829e12db2c44efbe5d69139ab161",class:`input-container ${this.errorText?"error":this.validText?"valid":""} ${this.classBySize.get(this.size)}`},this.renderTimeInput()),this.renderSubText()),t("div",{key:"4f8ee49d018277ec22755451e9f2d45889497312",class:"time-zone-wrapper"},t("slot",{key:"11e3d8d2626a7bc5c72696ca019690874ececf7a",name:"timeZone"})))}get element(){return r(this)}static get watchers(){return{ampm:["handleAmPmChange"],value:["handleValueChange"]}}};d.style='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");.modus-time-picker{box-sizing:border-box;display:inline-flex;flex-direction:row;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";position:relative;width:100%}.modus-time-picker .time-input-wrapper{display:flex;flex-direction:column;width:100%}.modus-time-picker button{background:0;border:0;cursor:pointer;margin:0;padding:0}.modus-time-picker label{color:var(--modus-input-label-color, #464b52);margin-bottom:0.25rem}.modus-time-picker .label-container{display:flex}.modus-time-picker .label-container label{font-size:0.75rem;font-weight:700}.modus-time-picker .label-container span.required{bottom:0.0625rem;color:var(--modus-input-validation-error-color, #da212c);margin-left:0.25rem;position:relative}.modus-time-picker .input-container{align-items:center;background-color:var(--modus-input-bg, #fff);border:0.0625rem solid var(--modus-input-border-color, #6a6e79);border-radius:4px;box-sizing:border-box;display:flex;flex-direction:row;height:2rem;position:relative;width:100%}.modus-time-picker .input-container input{background-color:transparent;background-position:right calc(0.375em + 0.1875rem) center;background-repeat:no-repeat;background-size:calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);border:none;color:var(--modus-input-color, #252a2e);font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-size:0.75rem;outline:none;padding:0 0.5rem;padding-right:calc(1.5em + 0.75rem);width:100%}.modus-time-picker .input-container input::placeholder{color:var(--modus-input-hint-text-color, #a3a6b1)}.modus-time-picker .input-container:hover{cursor:text}.modus-time-picker .input-container:focus-within{border-color:var(--modus-input-border-active-color, #217cbb);box-shadow:0 0 0 1px var(--modus-input-border-active-color, #217cbb)}.modus-time-picker .input-container.error{border-color:var(--modus-input-validation-error-color, #da212c);box-shadow:0 0 0 1px var(--modus-input-validation-error-color, #da212c)}.modus-time-picker .input-container.valid{border-color:var(--modus-input-validation-success-color, #006638);box-shadow:0 0 0 1px var(--modus-input-validation-success-color, #006638)}.modus-time-picker .input-container.large{height:3rem}.modus-time-picker .input-container.large input{font-size:0.875rem;padding:0 1rem}.modus-time-picker .input-container.large:focus-within,.modus-time-picker .input-container.large.error,.modus-time-picker .input-container.large.valid{height:2.9375rem}.modus-time-picker .input-container:has(input[readonly]){background-color:var(--modus-input-readonly-bg, #e0e1e9);border-color:transparent}.modus-time-picker .sub-text{font-size:0.75rem;margin-top:0.25rem}.modus-time-picker .sub-text.helper{color:var(--modus-input-label-color, #464b52);display:block;font-weight:600;margin:0}.modus-time-picker .sub-text.error{color:var(--modus-input-validation-error-color, #da212c)}.modus-time-picker .sub-text.valid{color:var(--modus-input-validation-success-color, #006638)}.modus-time-picker.large{font-size:0.875rem;height:48px}.modus-time-picker.disabled{pointer-events:none}.modus-time-picker.disabled .input-container{background-color:var(--modus-input-disabled-bg, #e0e1e9);border-color:transparent}.modus-time-picker.disabled .input-container input{background-color:transparent;border-radius:0;color:var(--modus-input-disabled-color, #a3a6b1);height:100%}';export{d as modus_time_picker}